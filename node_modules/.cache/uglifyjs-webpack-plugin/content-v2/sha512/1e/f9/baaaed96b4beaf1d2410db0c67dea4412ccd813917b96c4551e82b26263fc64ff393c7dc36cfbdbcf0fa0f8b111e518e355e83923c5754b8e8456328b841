{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var calc_sdf_1=__webpack_require__(1);function draw(cvs_id){var cvs=document.getElementById(cvs_id),w=cvs.width,h=cvs.height,ctx=cvs.getContext(\"2d\");ctx.imageSmoothingEnabled=!1;var data=ctx.getImageData(0,0,w,h),pixels=data.data,i=0,cmd=document.getElementById(\"cmd\").value,sdf=eval(cmd);console.log(cmd);for(var absY=0;absY<h;absY++)for(var absX=0;absX<w;absX++){var half_w=.5*w,half_h=.5*h,x=(absX-half_w)/half_w,y=(half_h-absY)/half_h,ret=calc(sdf,x,y);pixels.fill_pixel(i,new Color(ret,ret,ret,255)),i++}ctx.putImageData(data,0,0),ctx.fillStyle=\"#f55\",ctx.fillRect(Math.floor(.5*w)-1,0,2,h),ctx.fillRect(0,Math.floor(.5*h)-1,w,2);for(var weight=1,length=.005,step=20,i_1=0;i_1<=step;i_1++)ctx.fillRect(Math.floor(w*(.5-length)),Math.floor(i_1*(h/step)-weight/2),Math.floor(2*w*length),weight),ctx.fillRect(Math.floor(i_1*(w/step)-weight/2),Math.floor(h*(.5-length)),weight,Math.floor(2*h*length))}Uint8ClampedArray.prototype.fill_pixel=function(t,e){this[4*t]=e.R,this[4*t+1]=e.G,this[4*t+2]=e.B,this[4*t+3]=e.A},Uint8ClampedArray.prototype.blend_pixel=function(t,e,n){n=Math.min(n,1),n=Math.max(n,0),this[4*t]+=e.R*n,this[4*t+1]+=e.G*n,this[4*t+2]+=e.B*n,this[4*t+3]+=e.A*n};var Color=function(){return function(t,e,n,r){this.R=t,this.G=e,this.B=n,this.A=r}}();function calc(t,e,n){var r=t.CALC(e,n);return 255*(r=calc_sdf_1.lin_reg(-.001,.001,r))}function save(t){var e=document.getElementById(t).toDataURL();console.log(e)}function main(){console.log(\"loaded\"),document.getElementById(\"save\").addEventListener(\"click\",function(){save(\"cvs\")}),document.getElementById(\"do\").addEventListener(\"click\",function(){draw(\"cvs\")}),draw(\"cvs\")}exports.main=main},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(2);function o(t,e){return new u(\"dot\",function(n,r){var o=n-t,i=r-e;return Math.sqrt(o*o+i*i)})}function i(t,e,n){return new u(\"line\",function(r,o){return(t*r+e*o+n)/Math.sqrt(t*t+e*e)})}function a(t,e,n){return new u(\"circle\",function(r,i){return o(t,e).CALC(r,i)-n})}e.dot=o,e.line=i,e.circle=a,e.ngon=function(t,e){return new u(t+\"-gon\",function(n,o){if(t<=2)return 1;if(t>=36)return a(0,0,e).CALC(n,o);var i=Math.atan2(o,n),u=6.28/t,c=Math.floor(i/u)+.5,l=e*Math.cos(u/2),f=new r.Dot(l*Math.cos(c*u),l*Math.sin(c*u));return r.dnLine(f,r.Vector.toVector(f)).sdf(new r.Dot(n,o))})},e.ellipse=function(t,e,n,r,i){return new u(\"ellipse\",function(a,u){return o(t,e).CALC(a,u)+o(n,r).CALC(a,u)-2*i})},e.hyperbola=function(t,e,n,r,i){return new u(\"hyperbola\",function(a,u){var c=o(t,e).CALC(a,u),l=o(n,r).CALC(a,u);return Math.abs(c-l)-2*i})},e.parabola=function(t,e,n,r,a){return new u(\"parabola\",function(u,c){var l=o(t,e).CALC(u,c),f=i(n,r,a).CALC(u,c);return l-Math.abs(f)})},e.lin_reg=function(t,e,n){return n=(n-t)/(e-t),n=Math.min(n,1),n=Math.max(n,0)};var u=function(){return function(t,e){this.ID=t,this.CALC=e}}()},function(t,e,n){\"use strict\";function r(t,e){return t.x*e.x+t.y*e.y}Object.defineProperty(e,\"__esModule\",{value:!0});var o=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.sdf=function(t){return i.make(this,t).length()},t.prototype.center=function(){return this},t.toDot=function(e){return new t(e.x,e.y)},t.origin=new t(0,0),t}();e.Dot=o;var i=function(){function t(t,e){this.x=t,this.y=e}return t.make=function(e,n){return new t(n.x-e.x,n.y-e.y)},t.prototype.length=function(){return function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}(this)},t.toVector=function(e){return new t(e.x,e.y)},t}();e.Vector=i;!function(){function t(t,e){this.a=t,this.b=e}t.prototype.make=function(t,e){},t.prototype.length=function(){return i.make(this.a,this.b).length()}}();var a=function(){function t(t,e,n){this.A=t,this.B=e,this.C=n}return t.prototype.sdf=function(t){return this.takein(t)/new i(this.A,this.B).length()},t.prototype.takein=function(t){return this.A*t.x+this.B*t.y+this.C},t}();e.Line=a,e.dnLine=function(t,e){return new a(e.x,e.y,-r(t,e))},e.daLine=function(t,e){return new a(-e.y,e.x,-r(t,e))}}]);","extractedComments":[]}