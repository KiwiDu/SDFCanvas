{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(t,e,n){\"use strict\";class r{constructor(t,e){this.x=t,this.y=e}sdf(t){return o.make(this,t).length()}center(){return this}static toDot(t){return new r(t.x,t.y)}}r.origin=new r(0,0);class o{constructor(t,e){this.x=t,this.y=e}static make(t,e){let n=e.x-t.x,r=e.y-t.y;return new o(n,r)}length(){return function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}(this)}static toVector(t){return new o(t.x,t.y)}}function c(t,e,n){return n=(n-t)/(e-t),n=Math.min(n,1),n=Math.max(n,0)}n.d(e,\"a\",function(){return c})},function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"main\",function(){return main});var _calc_sdf__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function draw(cvs_id){let cvs=document.getElementById(cvs_id);const w=cvs.width,h=cvs.height;let ctx=cvs.getContext(\"2d\");ctx.imageSmoothingEnabled=!1;let data=ctx.getImageData(0,0,w,h),pixels=data.data,i=0,cmd=document.getElementById(\"cmd\").value,sdf=eval(cmd);console.log(cmd);for(let t=0;t<h;t++)for(let e=0;e<w;e++){let n=.5*w,r=.5*h,o=(e-n)/n,c=(r-t)/r,l=calc(sdf,o,c);pixels.fill_pixel(i,new Color(l,l,l,255)),i++}ctx.putImageData(data,0,0),ctx.fillStyle=\"#f55\",ctx.fillRect(Math.floor(.5*w)-1,0,2,h),ctx.fillRect(0,Math.floor(.5*h)-1,w,2);let weight=1,length=.005,step=20;for(let t=0;t<=step;t++)ctx.fillRect(Math.floor(w*(.5-length)),Math.floor(t*(h/step)-weight/2),Math.floor(2*w*length),weight),ctx.fillRect(Math.floor(t*(w/step)-weight/2),Math.floor(h*(.5-length)),weight,Math.floor(2*h*length))}Uint8ClampedArray.prototype.fill_pixel=function(t,e){this[4*t]=e.R,this[4*t+1]=e.G,this[4*t+2]=e.B,this[4*t+3]=e.A},Uint8ClampedArray.prototype.blend_pixel=function(t,e,n){n=Math.min(n,1),n=Math.max(n,0),this[4*t]+=e.R*n,this[4*t+1]+=e.G*n,this[4*t+2]+=e.B*n,this[4*t+3]+=e.A*n};class Color{constructor(t,e,n,r){this.R=t,this.G=e,this.B=n,this.A=r}}function calc(t,e,n){let r=t.CALC(e,n);return 255*(r=Object(_calc_sdf__WEBPACK_IMPORTED_MODULE_0__.a)(-.001,.001,r))}function save(t){let e=document.getElementById(t).toDataURL();console.log(e)}function main(){console.log(\"loaded\"),document.getElementById(\"save\").addEventListener(\"click\",()=>{save(\"cvs\")}),document.getElementById(\"do\").addEventListener(\"click\",()=>{draw(\"cvs\")}),draw(\"cvs\")}}]);","extractedComments":[]}